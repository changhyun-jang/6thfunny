<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/css/ggart.css" />
    <link rel="stylesheet" href="/css/seat_review.css" />
    <link rel="stylesheet" href="css/review_popup.css" />
    <style>
      .selected {
        /* ì„ íƒëœ ì¢Œì„ì— ëŒ€í•œ ìŠ¤íƒ€ì¼ */
        background-color: blue; /* ì˜ˆì œì—ì„œëŠ” íŒŒë€ìƒ‰ìœ¼ë¡œ í‘œì‹œ */
      }

      .reviewed {
        /* ë¦¬ë·° ë“±ë¡ëœ ì¢Œì„ì— ëŒ€í•œ ìŠ¤íƒ€ì¼ */
        background-color: green; /* ì˜ˆì œì—ì„œëŠ” ì´ˆë¡ìƒ‰ìœ¼ë¡œ í‘œì‹œ */
      }

      /* ëª¨ë‹¬ì°½ ìŠ¤íƒ€ì¼ */
      .modal,
      .reviewModal {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background-color: white;
        padding: 20px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
        z-index: 9999;
      }

      .reviewModal {
        display: none;
      }
    </style>
    <title>ì—°ìŠµ3</title>
  </head>
  <body>
    <!-- í—¤ë”ì˜ ë©”ë‰´ -->
    <header>
      <div class="menuBar">
        <span>ì°¾ì•„ë³´ê¸°</span>
        <span>ì‘ì„±í•˜ê¸°</span>
        <button class="sign">ë¡œê·¸ì¸</button>
      </div>
    </header>
    <!-- ì„ íƒí•œ ê³µì—°ì¥ ìƒì„¸ ì •ë³´ -->
    <h2>ê³µì—°ì¥ ì •ë³´</h2>
    <section class="infoSection">
      <div class="infoLeft">
        <img src="/img/ggartcenter.jpg" alt="ê²½ê¸°ì•„íŠ¸ì„¼í„°" width="410px" />
      </div>
      <div class="infoRight">
        <table class="centerInfo">
          <tr>
            <th>ê³µì—°ì¥ëª…</th>
            <td>ê²½ê¸°ì•„íŠ¸ì„¼í„° - ì†Œê·¹ì¥</td>
          </tr>
          <tr>
            <th>ì£¼ì†Œì•ˆë‚´</th>
            <td>
              ê²½ê¸°ë„ ìˆ˜ì›ì‹œ íŒ”ë‹¬êµ¬ íš¨ì›ë¡œ 307ë²ˆê¸¸ 20(ì¸ê³„ë™) ê²½ê¸°ì•„íŠ¸ì„¼í„° (ìš°
              16488)
            </td>
          </tr>
          <tr>
            <th>í™ˆí˜ì´ì§€</th>
            <td><a href="http://www.ggac.or.kr/">http://www.ggac.or.kr/</a></td>
          </tr>
          <tr>
            <th>ì „í™”ë²ˆí˜¸</th>
            <td><a href="tel:031-230-3200">031-230-3200</a></td>
          </tr>
          <tr>
            <th>ì¢Œì„ì•ˆë‚´</th>
            <td>502ì„ (1ì¸µ 301ì„, 2ì¸µ 195ì„, ì¥ì• ì¸ì„ 6ì„)</td>
          </tr>
          <tr>
            <th>ì£¼ì°¨ì•ˆë‚´</th>
            <td>ìœ ë£Œ ì£¼ì°¨ì¥ ë³´ìœ  / ê´€ëŒê° í• ì¸ ì ìš©</td>
          </tr>
          <tr>
            <th>í¸ì˜ì‹œì„¤</th>
            <td>ì¥ì• ì¸ ì´ìš© ì‹œì„¤, ìœ ì•„ ì‹œì„¤, ì¹´í˜ ë§ˆë ¨</td>
          </tr>
        </table>
      </div>
    </section>
    <!-- ì¢Œì„ í›„ê¸° ì•ˆë‚´ -->
    <h2>ì¢Œì„ í›„ê¸° ì°¾ì•„ë³´ê¸°</h2>
    <section class="reviewSection">
      <p class="reviewP">
        <strong>TIP!</strong> ì£¼í™©ìƒ‰ ì¢Œì„ì„ ëˆ„ë¥´ë©´ ì´ìš©ê°ì˜
        <strong>ìƒìƒí•œ í›„ê¸°</strong>ë¥¼ í™•ì¸í•  ìˆ˜ ìˆì–´ìš”ğŸ‘€
        <button class="reviewBu" onclick="openPopup()">í›„ê¸° ì‘ì„±í•˜ê¸°âœ</button>
      </p>
    </section>
    <!-- ì¢Œì„ ë°°ì¹˜ë„ ë¶€ë¶„ ì‹œì‘ -->
    <div class="seatLayout">
      <div class="test">
        <div class="stage">ë¬´ëŒ€</div>
        <div class="column" style="top: 65px; left: 220px">
          <strong>A</strong>
        </div>
        <div class="column" style="top: 65px; left: 505px">
          <strong>B</strong>
        </div>
        <div class="column" style="top: 65px; left: 799px">
          <strong>C</strong>
        </div>
        <!-- Aêµ¬ì—­ 1ì—´ -->
        <div
          class="seat"
          data-seat-id="A1"
          style="top: 90px; left: 201px"
        ></div>
        <div
          class="seat"
          data-seat-id="A2"
          style="top: 90px; left: 212px"
        ></div>
        <div class="seat" style="top: 90px; left: 223px"></div>
        <div class="seat" style="top: 90px; left: 234px"></div>
        <div class="seat" style="top: 90px; left: 245px"></div>
        <!-- Bêµ¬ì—­ 1ì—´ -->
        <div class="seat" style="top: 90px; left: 445px"></div>
        <div class="seat" style="top: 90px; left: 456px"></div>
        <div class="seat" style="top: 90px; left: 467px"></div>
        <div class="seat" style="top: 90px; left: 478px"></div>
        <div class="seat" style="top: 90px; left: 489px"></div>
        <div
          class="seat"
          style="top: 90px; left: 500px"
          title="Bêµ¬ì—­ 1ì—´ 6ë²ˆ"
        ></div>
        <div
          class="seat"
          style="top: 90px; left: 511px; background-color: orange"
          title="Bêµ¬ì—­ 1ì—´ 7ë²ˆ: 1ê±´"
        ></div>
        <div class="seat" style="top: 90px; left: 522px"></div>
        <div class="seat" style="top: 90px; left: 533px"></div>
        <div class="seat" style="top: 90px; left: 544px"></div>
        <div class="seat" style="top: 90px; left: 555px"></div>
        <div class="seat" style="top: 90px; left: 566px"></div>
        <div class="seat" style="top: 90px; left: 577px"></div>
        <!-- Cêµ¬ì—­ 1ì—´ -->
        <div class="seat" style="top: 90px; left: 777px"></div>
        <div class="seat" style="top: 90px; left: 788px"></div>
        <div class="seat" style="top: 90px; left: 799px"></div>
        <div class="seat" style="top: 90px; left: 810px"></div>
        <div class="seat" style="top: 90px; left: 821px"></div>

        <!-- Aêµ¬ì—­ 2ì—´ -->
        <div class="seat" style="top: 105px; left: 190px"></div>
        <div class="seat" style="top: 105px; left: 201px"></div>
        <div class="seat" style="top: 105px; left: 212px"></div>
        <div class="seat" style="top: 105px; left: 223px"></div>
        <div class="seat" style="top: 105px; left: 234px"></div>
        <div class="seat" style="top: 105px; left: 245px"></div>
        <!-- Bêµ¬ì—­ 2ì—´ -->
        <div class="seat" style="top: 105px; left: 434px"></div>
        <div class="seat" style="top: 105px; left: 445px"></div>
        <div class="seat" style="top: 105px; left: 456px"></div>
        <div class="seat" style="top: 105px; left: 467px"></div>
        <div class="seat" style="top: 105px; left: 478px"></div>
        <div class="seat" style="top: 105px; left: 489px"></div>
        <div class="seat" style="top: 105px; left: 500px"></div>
        <div class="seat" style="top: 105px; left: 511px"></div>
        <div class="seat" style="top: 105px; left: 522px"></div>
        <div class="seat" style="top: 105px; left: 533px"></div>
        <div class="seat" style="top: 105px; left: 544px"></div>
        <div class="seat" style="top: 105px; left: 555px"></div>
        <div class="seat" style="top: 105px; left: 566px"></div>
        <div class="seat" style="top: 105px; left: 577px"></div>
        <!-- Cêµ¬ì—­ 2ì—´ -->
        <div class="seat" style="top: 105px; left: 777px"></div>
        <div class="seat" style="top: 105px; left: 788px"></div>
        <div class="seat" style="top: 105px; left: 799px"></div>
        <div class="seat" style="top: 105px; left: 810px"></div>
        <div class="seat" style="top: 105px; left: 821px"></div>
        <div class="seat" style="top: 105px; left: 832px"></div>
      </div>
      <!-- ì¢Œì„ ë¦¬ë·°ë¥¼ ë“±ë¡í•  ìˆ˜ ìˆëŠ” ëª¨ë‹¬ì°½ -->
      <div class="modal" style="display: none">
        <h3>ë¦¬ë·° ë“±ë¡</h3>
        <textarea id="reviewInput" placeholder="ë¦¬ë·°ë¥¼ ì‘ì„±í•´ì£¼ì„¸ìš”"></textarea>
        <button onclick="submitReview()">ë“±ë¡</button>
        <button onclick="closeModal()">ì·¨ì†Œ</button>
      </div>

      <!-- ë¦¬ë·°ë¥¼ ë³´ì—¬ì£¼ëŠ” ëª¨ë‹¬ì°½ -->
      <div class="reviewModal" style="display: none">
        <h3>ë¦¬ë·°</h3>
        <p id="reviewContent"></p>
        <button onclick="closeReviewModal()">ë‹«ê¸°</button>
      </div>
    </div>
    <script>
      const seatData = [
        {
          id: "A1", // ì¢Œì„ ì‹ë³„ì
          review: "", // ë¦¬ë·° ë°ì´í„° (ì´ˆê¸° ê°’ì€ ë¹ˆ ë¬¸ìì—´)
          color: "", // ì¢Œì„ ìƒ‰ê¹” (ë¦¬ë·° ë“±ë¡ ì‹œ ë³€ê²½ë  ì˜ˆì •)
        },
        {
          id: "A2",
          review: "",
          color: "",
        },
      ];

      // ì¢Œì„ ìš”ì†Œë“¤ì„ ì„ íƒí•©ë‹ˆë‹¤
      const seats = document.querySelectorAll(".seat");

      // ê° ì¢Œì„ì— í´ë¦­ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë¥¼ ì¶”ê°€
      seats.forEach((seat) => {
        seat.addEventListener("click", () => {
          const seatId = seat.getAttribute("data-seat-id");
          const seatIndex = seatData.findIndex(
            (data) => data.seatId === seatId
          );

          // ì¢Œì„ì´ ì´ë¯¸ ì„ íƒëœ ê²½ìš°, ë¦¬ë·° ëª¨ë‹¬ì°½ í‘œì‹œ
          if (seat.classList.contains("reviewed")) {
            openReviewModal(seatIndex);
          } else {
            // ì¢Œì„ì´ ì„ íƒë˜ì§€ ì•Šì€ ê²½ìš°, ì„ íƒ ëª¨ë‹¬ì°½ í‘œì‹œ
            openModal(seatIndex);
          }
        });
      });

      // ëª¨ë‹¬ì°½ ì—´ê¸°
      function openModal(index) {
        const modal = document.querySelector(".modal");
        modal.style.display = "block";

        const reviewInput = document.getElementById("reviewInput");
        reviewInput.value = seatData[index].review;

        // ë¦¬ë·° ë“±ë¡ í›„ ì„ íƒëœ ì¢Œì„ì„ ì´ˆë¡ìƒ‰ìœ¼ë¡œ ë³€ê²½
        document
          .getElementById(seatData[index].seatId)
          .classList.add("reviewed");
      }

      // ëª¨ë‹¬ì°½ ë‹«ê¸°
      function closeModal() {
        const modal = document.querySelector(".modal");
        modal.style.display = "none";
      }

      // ë¦¬ë·° ë“±ë¡
      function submitReview() {
        const reviewInput = document.getElementById("reviewInput");
        const review = reviewInput.value;

        const selectedSeats = document.querySelectorAll(".seat.selected");
        selectedSeats.forEach((seat) => {
          const seatId = seat.getAttribute("data-seat-id");
          const seatIndex = seatData.findIndex(
            (data) => data.seatId === seatId
          );

          seatData[seatIndex].review = review;
          seat.classList.remove("selected");

          // ë“±ë¡ëœ ë¦¬ë·°ê°€ ìˆìœ¼ë©´ ì¢Œì„ì„ ì´ˆë¡ìƒ‰ìœ¼ë¡œ í‘œì‹œ
          if (review) {
            seat.classList.add("reviewed");
          }
        });

        closeModal();
      }

      // ë¦¬ë·° ë³´ê¸° ëª¨ë‹¬ì°½ ì—´ê¸°
      function openReviewModal(index) {
        const reviewModal = document.querySelector(".reviewModal");
        reviewModal.style.display = "block";

        const reviewContent = document.getElementById("reviewContent");
        reviewContent.textContent = seatData[index].review;
      }

      // ë¦¬ë·° ë³´ê¸° ëª¨ë‹¬ì°½ ë‹«ê¸°
      function closeReviewModal() {
        const reviewModal = document.querySelector(".reviewModal");
        reviewModal.style.display = "none";
      }
    </script>
  </body>
</html>
